{% load staticfiles %}

<!DOCTYPE html>
<html lang="en" ng-app="voting">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>topics</title>

    <!-- fonts -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>

    <!-- styles -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <div class="" ng-controller="VotingCtrl">
        <div class="starter-template">
            <h1>Proposed Topics</h1>
            <table class="table">
                <tr ng-repeat="topic in topics|Â orderBy:['-votes', 'name']" class="repeat-item">
                    <td>{[ topic.name ]}</td>
                    <td>Votes: <span class="label label-primary">{[ topic.votes ]}</span></td>
                    <td><button ng-if="check_voted(topic.id)" ng-click="like(topic.id)" class="btn btn-success" name="like!">I like this!</button>&nbsp;</td>
                </tr>
            </table>
            <div>
                <form ng:submit="addTopic()">
                    <input class="form-control" ng-model="new_topic" type="text" placeholder="add a new topic here" required></input>
                </form>
            </div>
        </div>
    </div>

    <!-- javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="{% static 'js/jquery-1.10.2.min.js' %}"><\/script>')</script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script>
        jQuery.noConflict();
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js"></script>
    <script>window.angular || document.write('{% static 'js/angular.min.js' %}')</script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular-animate.min.js"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <script>
        angular.module('voting').constant('urls', {
            base: "{{ url }}",
        });
    </script>
</body>
</html>
